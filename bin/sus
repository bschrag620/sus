#!/usr/bin/env ruby

require_relative '../lib/sus'

def prepare(paths, registry)
	if paths&.any?
		paths.each do |path|
			registry.load(path)
		end
	else
		Dir.glob("test/**/*.rb").each do |path|
			registry.load(path)
		end
	end
end

filter = Sus::Filter.new
output = Sus::Terminal.default

prepare(ARGV, filter)

filter.call
